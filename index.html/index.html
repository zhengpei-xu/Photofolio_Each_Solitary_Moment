<!doctype html>
<html lang="zh">

<head>
    <meta charset="utf-8" />
    <title>My Photofolio - Each Solitary Moment</title>

    <!-- 不要使用 base！GitHub Pages 会错误解析路径 -->
    <!-- <base href="/"> -->

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="style.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- 本地 turn.js -->
    <script src="lib/turn.min.js"></script>
</head>

<body>
    <div id="flipbook"></div>

    <script>
        // 自动生成108页
        (function createPages() {
            const totalPages = 108;
            const container = document.getElementById('flipbook');

            for (let i = 1; i <= totalPages; i++) {
                const page = document.createElement('div');
                page.className = 'page';

                const img = document.createElement('img');
                img.src = `images/EachSolitaryMoment${i}.jpg`;
                img.alt = `Photo Page ${i}`;
                img.style.width = '100%';
                img.style.height = '100%';
                img.style.objectFit = 'contain';

                page.appendChild(img);
                container.appendChild(page);
            }
        })();

        // 初始化翻页
        window.addEventListener('load', function () {
            $('#flipbook').turn({
                width: 1610,
                height: 900,
                autoCenter: true,
                display: 'double',
                acceleration: true,
                gradients: true,
                elevation: 50
            });

            // 键盘翻页
            $(document).on('keydown', function (e) {
                if (e.key === 'ArrowLeft') $('#flipbook').turn('previous');
                else if (e.key === 'ArrowRight') $('#flipbook').turn('next');
            });
        });
    </script>
</body>

</html>